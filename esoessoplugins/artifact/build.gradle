archiveBaseName = 'esoessoplugin-artifact'
eclipseProject.projectName = archiveBaseName

dependencies {
	compile project(':esoecore')
	compile project(':esoecrypto')
	compile project(':saml2java')
	compile project(':saml2metadata')

	compile 'com.ibm.icu:icu4j:4.0.1'
	compile 'commons-codec:commons-codec:1.4'
	compile 'org.springframework:spring:2.5.6'
}

processTestResources.doFirst {
	def ksdir = 'build/testdata'
	def keystore = 'build/testdata/testKeystore.ks'
	if (!file(keystore).exists()) {
		file(ksdir).mkdirs()
		[testcert:'certpass', testpriv:'keypass'].each { alias, keypass ->
			ant.genkey(alias:alias, keystore:keystore, storepass:'kspass', keypass:keypass, dname:'CN=test')
		}
	}
}
